---
title: "Code Scratch"
author: "Alicia Rich"
date: "`r Sys.Date()`"
output: html_document
                     
---

```{r}
library(conflicted)
library(devtools)
library(DiagrammeR)
library(here)
library(knitr)
library(magrittr)
library(pedtools)
library(roxygen2)
library(tidyverse)
library(visNetwork)
knitr::opts_chunk$set(
  collapse = TRUE,
  message  = FALSE,
  warning  = FALSE,
  echo     = TRUE,
  include  = TRUE,
  eval     = TRUE,
  comment  = ""
)
conflicts_prefer(lubridate::interval)
conflicts_prefer(dplyr::filter)
conflicts_prefer(purrr::set_names)
studbook <- read_csv(here("inst/extdata/studbook.csv"))
pedigree <- build_ped_series(studbook) %>% 
  extract_pedigree("_comp1", "Contemporary")
```

```{r}
studbook_edges <- studbook_nodes(studbook = studbook,
                                   pedigree = pedigree) %>%
    select(offspring = label,
           edge_color = color_connector,
           tooltip    = tooltip_connector)
```


```{r}
edf <- ped_edf(studbook, pedigree)
ndf <- ped_ndf(studbook, pedigree)
```

```{r}
net <- create_graph(
  nodes_df      = ndf,
  edges_df      = edf
) %>% 
  render_graph(output = "visNetwork")
```

```{r}
output <- ped_graphv(studbook, pedigree) %>% 
  render_graph(as_svg = TRUE)
```



